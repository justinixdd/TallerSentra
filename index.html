{% extends 'base.html' %}

{% block header %}
<style>
.product-card {
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  background-color: #fff;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s, box-shadow 0.3s;
}
.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 25px rgba(0,0,0,0.3);
}
.product-card img {
  width: 100%;
  max-height: 200px;
  object-fit: contain;
}
.product-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.75);
  color: #fff;
  opacity: 0;
  transition: opacity 0.3s;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 15px;
}
.product-card:hover .product-overlay { opacity: 1; }
</style>
{% endblock %}

{% block content %}
<main  style="padding-top: 0;">
  <div id="carouselExampleSlidesOnly" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/static/MEDIA/Black Red 3D Car Intro Video (1).gif" class="d-block w-100" alt="3D car intro video">
            <div class="button-container">
                <button class="info-button" >Más Información...</button>
                <div class="info-card">
                    <p> En Sentra, entendemos que tu vehículo es más que un medio de transporte; es una parte esencial de tu vida. Nos dedicamos a ofrecer reparaciones de alta calidad, garantizando que cada viaje sea seguro y placentero. Con un equipo de expertos comprometidos y tecnología de vanguardia, estamos aquí para mantener tu auto en óptimas condiciones. ¡Confía en Sentra para que cada kilómetro cuente!</p>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/MEDIA/Red White Modern Car Sale Billboard Web Ad.png" class="d-block w-100" alt="Modern car sale billboard">
            <div class="button-container">
                <button class="info-button">Más Información...</button>
                <div class="info-card">
                    <p>Detalles sobre el anuncio de venta de autos modernos.</p>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/MEDIA/Black and Red Modern Car Repair Shop Billboard.png" class="d-block w-100" alt="Description of the image">
            <div class="button-container">
                <button class="info-button">Más Información...</button>
                <div class="info-card">
                    <p>En Sentra, entendemos que tu vehículo es más que un medio de transporte; es una parte esencial de tu vida. Nos dedicamos a ofrecer reparaciones de alta calidad, garantizando que cada viaje sea seguro y placentero. Con un equipo de expertos comprometidos y tecnología de vanguardia, estamos aquí para mantener tu auto en óptimas condiciones. ¡Confía en Sentra para que cada kilómetro cuente!</p>
                </div>
            </div>
        </div>
    </div>

</div>
  <div class="container">
    <h1 class="text-center mb-5">Productos y Servicios</h1>

    <h2 class="headerPS mt-5 text-center">Piezas</h2>
    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% if piezas|length == 0 %}
        <p class="text-center text-muted">No hay piezas disponibles.</p>
      {% endif %}
      {% for pieza in piezas %}
      <div class="col">
        <div class="card product-card">
          <img src="{{ pieza.imagen_url|default(url_for('static', filename='img/no-image.png')) }}" alt="{{ pieza.nombre }}">
          <div class="product-overlay">
            <h5>{{ pieza.nombre }}</h5>
            <p>{{ pieza.descripcion }}</p>
            <div>
              <span class="fw-bold me-2">₡{{ pieza.precio|default(0)|round(2) }}</span>
              <span class="badge bg-warning text-dark">Stock: {{ pieza.cantidad|default(0) }}</span>
            </div>
            <button class="btn btn-success btn-sm" onclick="addToCart('{{ pieza.nombre|e }}', {{ pieza.precio|default(0)|round(0) }})">
              Agregar
            </button>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <h2 class="headerPS mt-5 text-center">Servicios</h2>
    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% if servicios|length == 0 %}
        <p class="text-center text-muted">No hay servicios disponibles.</p>
      {% endif %}
      {% for servicio in servicios %}
      <div class="col">
        <div class="card product-card">
          <img src="{{ servicio.imagen_url|default(url_for('static', filename='img/no-image.png')) }}" alt="{{ servicio.nombre }}">
          <div class="product-overlay">
            <h5>{{ servicio.nombre }}</h5>
            <p>{{ servicio.descripcion }}</p>
            <div>
              <span class="fw-bold me-2">₡{{ servicio.precio|default(0)|round(2) }}</span>
              {% if servicio.cantidad is defined %}
              <span class="badge bg-warning text-dark">Stock: {{ servicio.cantidad|default(0) }}</span>
              {% endif %}
            </div>
            <button class="btn btn-success btn-sm" onclick="addToCart('{{ servicio.nombre|e }}', {{ servicio.precio|default(0)|round(0) }})">
              Agregar
            </button>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</main>
{% endblock %}
